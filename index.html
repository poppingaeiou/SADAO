<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏∞‡πÄ‡∏î‡∏≤ - ‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Prompt', sans-serif; background: #e0f2f1; margin: 0; height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .hero { text-align: center; color: #00695c; }
        .hero img { width: 150px; animation: bounce 3s infinite; }
        .chat-btn { position: fixed; bottom: 30px; right: 30px; width: 65px; height: 65px; background: #009688; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 30px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); cursor: pointer; transition: 0.3s; z-index: 1000; }
        .chat-box { position: fixed; bottom: 110px; right: 30px; width: 350px; height: 500px; background: white; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.2); display: none; flex-direction: column; overflow: hidden; z-index: 999; }
        .head { background: #009688; color: white; padding: 15px; display: flex; justify-content: space-between; align-items: center; font-weight: bold; }
        .body { flex: 1; padding: 15px; overflow-y: auto; background: #f5f5f5; display: flex; flex-direction: column; gap: 10px; }
        .foot { padding: 10px; background: white; border-top: 1px solid #eee; display: flex; }
        .inp { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 20px; outline: none; }
        .send { background: #009688; color: white; border: none; padding: 10px 15px; border-radius: 50%; margin-left: 5px; cursor: pointer; }
        .msg { padding: 10px 15px; border-radius: 15px; max-width: 80%; font-size: 14px; word-wrap: break-word; }
        .user { align-self: flex-end; background: #009688; color: white; border-bottom-right-radius: 2px; }
        .bot { align-self: flex-start; background: white; color: #333; border: 1px solid #ddd; border-bottom-left-radius: 2px; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    </style>
</head>
<body>

    <div class="hero">
        <img src="https://cdn-icons-png.flaticon.com/512/4712/4712109.png">
        <h1>‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏•‡∏™‡∏∞‡πÄ‡∏î‡∏≤</h1>
        <p>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≠‡∏á‡πÉ‡∏ö‡∏ö‡∏∏‡∏ç üëá</p>
    </div>

    <div class="chat-btn" onclick="toggle()">üí¨</div>

    <div class="chat-box" id="box">
        <div class="head">
            <span>‡∏ô‡πâ‡∏≠‡∏á‡πÉ‡∏ö‡∏ö‡∏∏‡∏ç (AI)</span>
            <span style="cursor:pointer" onclick="toggle()">√ó</span>
        </div>
        <div class="body" id="msgs">
            <div class="msg bot">‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡πà‡∏∞ ‡∏ô‡πâ‡∏≠‡∏á‡πÉ‡∏ö‡∏ö‡∏∏‡∏ç‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡πà‡∏∞ <br>‡∏ñ‡∏≤‡∏°‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏ô‡πÑ‡∏û‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏∞ üòä (‡πÄ‡∏ä‡πà‡∏ô ‡∏õ‡∏ß‡∏î‡∏´‡∏•‡∏±‡∏á, ‡∏Ç‡∏°‡∏¥‡πâ‡∏ô‡∏ä‡∏±‡∏ô)</div>
        </div>
        <div class="foot">
            <input type="text" id="txt" class="inp" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...">
            <button class="send" onclick="send()">‚û§</button>
        </div>
    </div>

    <script>
        // ******************************************************************
        // [‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å] ‡∏ß‡∏≤‡∏á URL ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£ Deploy ‡πÉ‡∏´‡∏°‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ (‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏∑‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô!)
        // ******************************************************************
       const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbwiimpKfLJ7tPJa8vHnBUcdtGKAXO2ClyhJI7oN09LItvYxDSfVpnhpEtMlZA15B-eK/exec";

        function toggle() {
            var b = document.getElementById('box');
            b.style.display = (b.style.display == 'flex') ? 'none' : 'flex';
        }

        function addMsg(t, c) {
            var d = document.createElement('div');
            d.className = 'msg ' + c;
            d.innerHTML = t.replace(/\n/g, '<br>');
            document.getElementById('msgs').appendChild(d);
            document.getElementById('msgs').scrollTop = 9999;
        }

        function send() {
            var t = document.getElementById('txt').value;
            if(!t) return;
            addMsg(t, 'user');
            document.getElementById('txt').value = '';
            addMsg('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏¥‡∏î...', 'bot'); // Loading

            fetch(URL, {
                method: "POST",
                headers: { "Content-Type": "text/plain" },
                body: JSON.stringify({ message: t })
            })
            .then(r => r.json())
            .then(d => {
                document.querySelector('.bot:last-child').remove(); 
                if(d.status == 'success') addMsg(d.reply, 'bot');
                else addMsg('Error: ' + d.reply, 'bot');
            })
            .catch(e => {
                document.querySelector('.bot:last-child').remove();
                addMsg('‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏ä‡πá‡∏Ñ URL ‡∏´‡∏£‡∏∑‡∏≠ Deploy ‡πÉ‡∏´‡∏°‡πà)', 'bot');
            });
        }
        
        document.getElementById('txt').addEventListener('keypress', function(e){
            if(e.key == 'Enter') send();
        });
    </script>

</body>
</html>
